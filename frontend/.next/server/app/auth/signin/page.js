(()=>{var e={};e.id=98,e.ids=[98],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},65922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22401);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},11383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>u,routeModule:()=>h,tree:()=>l});var r=n(37043),o=n(84952),a=n(19930),s=n.n(a),i=n(23910),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);n.d(t,c);let d=r.AppPageRouteModule,l=["",{children:["auth",{children:["signin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,80492)),"/home/project/frontend/app/auth/signin/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,67672)),"/home/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,62526,23)),"next/dist/client/components/not-found-error"]}],u=["/home/project/frontend/app/auth/signin/page.tsx"],p="/auth/signin/page",m={require:n,loadChunk:()=>Promise.resolve()},h=new d({definition:{kind:o.x.APP_PAGE,page:"/auth/signin/page",pathname:"/auth/signin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},44562:(e,t,n)=>{Promise.resolve().then(n.bind(n,99306))},99306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(58101),o=n(80404),a=n(88906),s=n(36460);(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}();var i=n(33277),c=n(65922),d=n(89468);function l(){let e=(0,s.useRouter)(),[t,n]=(0,o.useState)("phone"),[l,u]=(0,o.useState)(""),[p,m]=(0,o.useState)(""),[h,x]=(0,o.useState)(""),[f,g]=(0,o.useState)(!1),[O,N]=(0,o.useState)(""),v=async e=>{e.preventDefault(),g(!0),N("");try{let e=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({whatsappNumber:l})}),t=await e.json();e.ok?(x(t.userId),n("otp")):N(t.error||"Error al enviar c\xf3digo")}catch(e){N("Error de conexi\xf3n")}finally{g(!1)}},j=async t=>{t.preventDefault(),g(!0),N("");try{let t=await (0,a.signIn)("credentials",{whatsappNumber:l,otpCode:p,redirect:!1});t?.ok?e.push("/admin"):N("C\xf3digo de verificaci\xf3n inv\xe1lido")}catch(e){N("Error de verificaci\xf3n")}finally{g(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 flex items-center justify-center p-4",children:(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-full max-w-md",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(i.Z,{className:"w-8 h-8 text-white"})}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-2xl",children:"Iniciar Sesi\xf3n"}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"phone"===t?"Ingresa tu n\xfamero de WhatsApp para continuar":"Ingresa el c\xf3digo que enviamos a tu WhatsApp"})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[O&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:O}),"phone"===t?(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"whatsapp",children:"N\xfamero de WhatsApp"}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"whatsapp",type:"tel",value:l,onChange:e=>u(e.target.value),placeholder:"+1234567890",required:!0,className:"mt-1"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Incluye el c\xf3digo de pa\xeds (ej: +1 para USA)"})]}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700",disabled:f||!l,children:f?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"w-4 h-4"}),"Enviar C\xf3digo por WhatsApp"]})})]}):(0,r.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"otp",children:"C\xf3digo de Verificaci\xf3n"}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"otp",type:"text",value:p,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,required:!0,className:"mt-1 text-center text-2xl tracking-widest"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["C\xf3digo de 6 d\xedgitos enviado a ",l]})]}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700",disabled:f||6!==p.length,children:f?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(d.Z,{className:"w-4 h-4"}),"Verificar C\xf3digo"]})}),r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"button",variant:"outline",className:"w-full",onClick:()=>{n("phone"),m(""),N("")},children:"Cambiar N\xfamero"})]})]})]})})}},80492:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>c});var r=n(13151);let o=(0,r.createProxy)(String.raw`/home/project/frontend/app/auth/signin/page.tsx`),{__esModule:a,$$typeof:s}=o,i=o.default,c=i}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[822,697,401,29,693],()=>n(11383));module.exports=r})();