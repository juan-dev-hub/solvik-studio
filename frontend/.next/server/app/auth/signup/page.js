(()=>{var e={};e.id=271,e.ids=[271],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},68062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>u,routeModule:()=>h,tree:()=>l});var n=r(37043),o=r(84952),a=r(19930),s=r.n(a),i=r(23910),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let d=n.AppPageRouteModule,l=["",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67763)),"/home/project/frontend/app/auth/signup/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,67672)),"/home/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,62526,23)),"next/dist/client/components/not-found-error"]}],u=["/home/project/frontend/app/auth/signup/page.tsx"],m="/auth/signup/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new d({definition:{kind:o.x.APP_PAGE,page:"/auth/signup/page",pathname:"/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},62980:(e,t,r)=>{Promise.resolve().then(r.bind(r,3880))},3880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(58101),o=r(80404),a=r(36460);(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}();var s=r(53344),i=r(89468),c=r(90974),d=r(33277);function l(){let e=(0,a.useRouter)(),[t,r]=(0,o.useState)("form"),[l,u]=(0,o.useState)({firstName:"",lastName:"",whatsappNumber:"",email:"",subdomain:""}),[m,p]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),[x,N]=(0,o.useState)(!1),[O,g]=(0,o.useState)(""),j=async e=>{e.preventDefault(),N(!0),g("");try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),t=await e.json();e.ok?(f(t.userId),r("otp")):g(t.error||"Error al crear cuenta")}catch(e){g("Error de conexi\xf3n")}finally{N(!1)}},b=async e=>{e.preventDefault(),N(!0),g("");try{let e=await fetch("/api/auth/verify-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:h,otpCode:m})}),t=await e.json();e.ok?r("success"):g(t.error||"C\xf3digo de verificaci\xf3n inv\xe1lido")}catch(e){g("Error de verificaci\xf3n")}finally{N(!1)}},v=(e,t)=>{let r=e=>e.toLowerCase().replace(/[^a-z0-9]/g,"");return r(e)+r(t)},_=(e,t)=>{u(r=>{let n={...r,[e]:t};return("firstName"===e||"lastName"===e)&&(n.subdomain=v(n.firstName,n.lastName)),n})};return"success"===t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 flex items-center justify-center p-4",children:(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-full max-w-md text-center",children:[(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[n.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(s.Z,{className:"w-8 h-8 text-white"})}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-2xl",children:"\xa1Cuenta Creada!"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Ahora elige tu plan para activar tu landing page"})]}),(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-orange-800 mb-2",children:"Tu sitio web ser\xe1:"}),(0,n.jsxs)("p",{className:"font-mono text-orange-600",children:[l.subdomain,".solvik.app"]})]}),(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{onClick:()=>e.push("/pricing"),className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800",children:["Elegir Plan y Activar",n.jsx(i.Z,{className:"w-4 h-4 ml-2"})]})]})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 flex items-center justify-center p-4",children:(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-full max-w-md",children:[(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:"form"===t?n.jsx(c.Z,{className:"w-8 h-8 text-white"}):n.jsx(d.Z,{className:"w-8 h-8 text-white"})}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-2xl",children:"form"===t?"Crear Cuenta":"Verificar WhatsApp"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"form"===t?"Crea tu cuenta y elige tu plan":"Ingresa el c\xf3digo que enviamos a tu WhatsApp"})]}),(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[O&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:O}),"form"===t?(0,n.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"firstName",children:"Nombre"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"firstName",value:l.firstName,onChange:e=>_("firstName",e.target.value),required:!0,className:"mt-1"})]}),(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"lastName",children:"Apellido"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"lastName",value:l.lastName,onChange:e=>_("lastName",e.target.value),required:!0,className:"mt-1"})]})]}),(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"whatsapp",children:"N\xfamero de WhatsApp"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"whatsapp",type:"tel",value:l.whatsappNumber,onChange:e=>_("whatsappNumber",e.target.value),placeholder:"+1234567890",required:!0,className:"mt-1"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Incluye el c\xf3digo de pa\xeds"})]}),(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"email",children:"Email (opcional)"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"email",type:"email",value:l.email,onChange:e=>_("email",e.target.value),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"subdomain",children:"Tu sitio web ser\xe1:"}),(0,n.jsxs)("div",{className:"flex items-center mt-1",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"subdomain",value:l.subdomain,onChange:e=>_("subdomain",e.target.value),required:!0,className:"rounded-r-none"}),n.jsx("span",{className:"bg-gray-100 border border-l-0 px-3 py-2 rounded-r-md text-sm text-gray-600",children:".solvik.app"})]})]}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700",disabled:x,children:x?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creando cuenta..."]}):(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(i.Z,{className:"w-4 h-4"}),"Crear Cuenta"]})})]}):(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"otp",children:"C\xf3digo de Verificaci\xf3n"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"otp",type:"text",value:m,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,required:!0,className:"mt-1 text-center text-2xl tracking-widest"}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["C\xf3digo de 6 d\xedgitos enviado a ",l.whatsappNumber]})]}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700",disabled:x||6!==m.length,children:x?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"Verificar y Continuar"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"button",variant:"outline",className:"w-full",onClick:()=>r("form"),children:"Volver"})]})]})]})})}},67763:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>c});var n=r(13151);let o=(0,n.createProxy)(String.raw`/home/project/frontend/app/auth/signup/page.tsx`),{__esModule:a,$$typeof:s}=o,i=o.default,c=i}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[822,697,401,29,586,693],()=>r(68062));module.exports=n})();